{"remainingRequest":"C:\\Users\\a1013\\Desktop\\vue_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\a1013\\Desktop\\vue_shop\\src\\components\\order\\Order.vue?vue&type=style&index=0&id=32eebc4d&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\a1013\\Desktop\\vue_shop\\src\\components\\order\\Order.vue","mtime":1645715130667},{"path":"C:\\Users\\a1013\\Desktop\\vue_shop\\node_modules\\css-loader\\dist\\cjs.js","mtime":1644915265271},{"path":"C:\\Users\\a1013\\Desktop\\vue_shop\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1644915266182},{"path":"C:\\Users\\a1013\\Desktop\\vue_shop\\node_modules\\postcss-loader\\src\\index.js","mtime":1644915265682},{"path":"C:\\Users\\a1013\\Desktop\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644915264891},{"path":"C:\\Users\\a1013\\Desktop\\vue_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1644915265855}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5lbC10YWJsZSB7DQogIG1hcmdpbjogMTVweCAwIDVweDsNCn0NCi5lbC1jYXNjYWRlciB7DQogIHdpZHRoOiAxMDAlOw0KfQ0K"},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/components/order","sourcesContent":["<template>\r\n  <div class=\"order\">\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>订单管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>订单列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card>\r\n      <!--      搜索-->\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-input placeholder=\"请输入内容\" clearable v-model=\"queryInfo.query\" @clear=\"getOrderList\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getOrderList\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <!--      表格-->\r\n      <el-row>\r\n        <el-table :data=\"orderList\" border style=\"width: 100%\">\r\n          <el-table-column type=\"index\" label=\"#\"> </el-table-column>\r\n          <el-table-column prop=\"order_number\" label=\"订单编号\"></el-table-column>\r\n          <el-table-column prop=\"order_price\" label=\"订单价格\" width=\"250px\"></el-table-column>\r\n          <el-table-column label=\"是否支付\" width=\"250px\">\r\n            <template v-slot=\"scope\">\r\n              <el-tag type=\"danger\" v-if=\"scope.row.pay_status === '0'\">未付款</el-tag>\r\n              <el-tag type=\"success\" v-else>已付款</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"is_send\" label=\"是否发货\" width=\"250px\"></el-table-column>\r\n          <el-table-column label=\"下单时间\" width=\"250px\">\r\n            <template v-slot=\"scope\">\r\n              {{ scope.row.create_time | dataFormat }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" width=\"150px\">\r\n            <template v-slot=\"\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"修改地址\" placement=\"top\">\r\n                <el-button type=\"primary\" icon=\"el-icon-edit\" circle @click=\"showBox\"></el-button>\r\n              </el-tooltip>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"物流状态\" placement=\"top\">\r\n                <el-button type=\"success\" icon=\"el-icon-location\" circle @click=\"showProgressBox\"></el-button>\r\n              </el-tooltip>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-row>\r\n      <!--      分页区-->\r\n      <el-row>\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-sizes=\"[5, 9, 11, 15]\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n        >\r\n        </el-pagination>\r\n      </el-row>\r\n    </el-card>\r\n    <!--    修改地址的对话框-->\r\n    <el-dialog title=\"修改地址\" :visible.sync=\"addressDialogVisible\" @close=\"addressDialogClosed\" width=\"50%\">\r\n      <el-form :model=\"addressForm\" :rules=\"addressFormRules\" ref=\"addressFormRef\" label-width=\"100px\">\r\n        <el-form-item label=\"省市区/县\" prop=\"address1\">\r\n          <!--          <el-input v-model=\"addressForm.address1\"></el-input>-->\r\n          <el-cascader :options=\"cityData\" v-model=\"addressForm.address1\" :props=\"{ expandTrigger: 'hover' }\"></el-cascader>\r\n        </el-form-item>\r\n        <el-form-item label=\"详细地址\" prop=\"address2\">\r\n          <el-input v-model=\"addressForm.address2\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addressDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addressDialogVisible = false\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!--    显示物流进度的对话框-->\r\n    <el-dialog title=\"物流进度\" :visible.sync=\"progressDialogVisible\" width=\"50%\">\r\n      <el-timeline :reverse=\"false\">\r\n        <el-timeline-item v-for=\"(activity, index) in progressInfo\" :key=\"index\" :timestamp=\"activity.ftime\">\r\n          {{ activity.context }}\r\n        </el-timeline-item>\r\n      </el-timeline>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport cityData from './citydata'\r\nexport default {\r\n  name: 'Order',\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 7\r\n      },\r\n      // 订单列表的数据\r\n      orderList: [],\r\n      // 订单的总数量\r\n      total: 0,\r\n      // 修改地址的对话框\r\n      addressDialogVisible: false,\r\n      addressForm: {\r\n        address1: [],\r\n        address2: ''\r\n      },\r\n      addressFormRules: {\r\n        address1: [{ required: true, message: '请选择省市区/县', trigger: 'blur' }],\r\n        address2: [{ required: true, message: '请填写详细地址', trigger: 'blur' }]\r\n      },\r\n      // 地址的选择\r\n      cityData,\r\n      // 显示物流进度的\r\n      progressDialogVisible: false,\r\n      progressInfo: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getOrderList()\r\n  },\r\n  methods: {\r\n    // 获取订单列表数据\r\n    async getOrderList() {\r\n      const { data: res } = await this.$http.get('orders', {\r\n        params: this.queryInfo\r\n      })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取订单列表失败!')\r\n      }\r\n      this.$message.success('获取订单列表成功!')\r\n      this.orderList = res.data.goods\r\n      this.total = res.data.total\r\n    //   console.log(res, this.orderList, this.total)\r\n    },\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize\r\n      this.getOrderList()\r\n    },\r\n    handleCurrentChange(newCurrent) {\r\n      this.queryInfo.pagenum = newCurrent\r\n      this.getOrderList()\r\n    },\r\n    // 展示修改对话框\r\n    showBox() {\r\n      this.addressDialogVisible = true\r\n    },\r\n    // 关闭对话框清空表达\r\n    addressDialogClosed() {\r\n      this.$refs.addressFormRef.resetFields()\r\n    },\r\n    async showProgressBox() {\r\n      const { data: res } = await this.$http.get('/kuaidi/1106975712662')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取物流进度失败！')\r\n      }\r\n      this.progressInfo = res.data\r\n\r\n      // this.progressInfo = [\r\n      //   {\r\n      //     time: '2018-05-10 09:39:00',\r\n      //     ftime: '2018-05-10 09:39:00',\r\n      //     context: '已签收,感谢使用顺丰,期待再次为您服务',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-10 08:23:00',\r\n      //     ftime: '2018-05-10 08:23:00',\r\n      //     context: '[北京市]北京海淀育新小区营业点派件员 顺丰速运 95338正在为您派件',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-10 07:32:00',\r\n      //     ftime: '2018-05-10 07:32:00',\r\n      //     context: '快件到达 [北京海淀育新小区营业点]',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-10 02:03:00',\r\n      //     ftime: '2018-05-10 02:03:00',\r\n      //     context: '快件在[北京顺义集散中心]已装车,准备发往 [北京海淀育新小区营业点]',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-09 23:05:00',\r\n      //     ftime: '2018-05-09 23:05:00',\r\n      //     context: '快件到达 [北京顺义集散中心]',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-09 21:21:00',\r\n      //     ftime: '2018-05-09 21:21:00',\r\n      //     context: '快件在[北京宝胜营业点]已装车,准备发往 [北京顺义集散中心]',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-09 13:07:00',\r\n      //     ftime: '2018-05-09 13:07:00',\r\n      //     context: '顺丰速运 已收取快件',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-09 12:25:03',\r\n      //     ftime: '2018-05-09 12:25:03',\r\n      //     context: '卖家发货',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-09 12:22:24',\r\n      //     ftime: '2018-05-09 12:22:24',\r\n      //     context: '您的订单将由HLA（北京海淀区清河中街店）门店安排发货。',\r\n      //     location: ''\r\n      //   },\r\n      //   {\r\n      //     time: '2018-05-08 21:36:04',\r\n      //     ftime: '2018-05-08 21:36:04',\r\n      //     context: '商品已经下单',\r\n      //     location: ''\r\n      //   }\r\n      // ]\r\n      //\r\n      this.progressDialogVisible = true\r\n      //   console.log(this.progressInfo)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-table {\r\n  margin: 15px 0 5px;\r\n}\r\n.el-cascader {\r\n  width: 100%;\r\n}\r\n</style>\r\n"]}]}